<!-- templates/similar_results.html -->
{% extends "base.html" %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<h1>Visually Similar Images</h1>

<div class="similar-source-container">
    <div class="similar-source-image">
        <!-- ▼▼▼ ADD THIS IF CHECK ▼▼▼ -->
        {% if source_image.thumbnail_path %}
            <img src="{{ url_for('uploads', path=source_image.thumbnail_path) }}" alt="Source Image">
        {% else %}
            <div class="placeholder-image">No Thumbnail</div>
        {% endif %}
    </div>
    <div class="similar-source-text">
        <p>Showing results similar to:</p>
        <h3>{{ source_image.original_filename or "Untitled Image" }}</h3>
    </div>
</div>


{% if images %}
    <p class="search-summary">
        Found <strong>{{ image_count }}</strong> similar results.
    </p>
    {% include 'partials/gallery_grid.html' %}
{% else %}
    <p>No visually similar images were found. This may happen if the source image has not been indexed yet.</p>
{% endif %}

{% include 'partials/bulk_actions_panel.html' %}

{% endblock %}